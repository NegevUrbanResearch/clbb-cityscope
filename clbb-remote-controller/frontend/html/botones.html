<!DOCTYPE html>
<html>
<head>
    <title>Control Panel</title>
    <link rel="stylesheet" href="/static/styles.css"/>
</head>
<body>
    <h1>Django Data:</h1>
    {% for dato in datos_django %}
        <button class="glowing-button" onclick="cambiarURL('{{ dato.slider }}')">{{ dato.slider }}. {{ dato.name }}</button>
    {% endfor %}
    <button class="glowing-button" onclick="SS(55)">Start</button>
    <button class="glowing-button" onclick="SS(56)">Stop</button>
</body>

<script>
    function cambiarURL(numero) {
        var url = 'http://localhost:9900/api/set_map_type/';
        if(numero != undefined){
            url += '?map_type=' + numero;
        }
        // Make a POST request using fetch
        fetch(url)
        .then(response => response.json())
        .then(data => {
            // Handle server response if needed
            console.log('Server response:', data);
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }

    function SS(numero) {
        var url = 'http://localhost:9900/api/';
        if(numero == 55){
            url += 'start';
        }
        else{
            url += 'stop';
        }
        // Make a POST request using fetch
        fetch(url)
        .then(response => response.json())
        .then(data => {
            // Handle server response if needed
            console.log('Server response:', data);
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }
</script>

</html>


